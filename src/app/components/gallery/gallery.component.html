<div class="gallery">
  <div class="image-container" *ngFor="let image of images; let i = index" appIntersectionDirective (imageInScope)="imageStates[i] = $event">
    <img [attr.src] = "imageStates[i] ? image : ''" alt="image">
  </div>
</div>
